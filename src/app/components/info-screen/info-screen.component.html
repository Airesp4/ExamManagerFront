<div class="container__provas">
  <div *ngIf="provasFiltradas.length === 0">
    <p>Nenhuma prova encontrada.</p>
  </div>

  <div *ngIf="provasFiltradas.length > 0">
    <p>Provas carregadas:</p>
    <div class="prova-list">
      <div
        *ngFor="let prova of provasFiltradas"
        class="prova-card"
        (click)="exibirDetalhes(prova)"
      >
        <h3>{{ prova.nome }}</h3>
        <p><strong>Descrição: </strong> {{ prova.descricao }}</p>
        <p><strong>Data de Criação:</strong> {{ prova.dataCriacao }}</p>
      </div>
    </div>
  </div>

  <!-- Modal de Detalhes -->
  <div *ngIf="provaSelecionada" class="modal" (click)="fecharModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <h3>Detalhes da Prova:</h3>
  
      <div>
        <label><strong>Nome: </strong></label>
        <span *ngIf="!editando">{{ provaSelecionada.nome }}</span>
        <input *ngIf="editando" type="text" [(ngModel)]="provaSelecionada.nome" />
      </div>
      
      <div>
        <label><strong>Descrição: </strong></label>
        <span *ngIf="!editando">{{ provaSelecionada.descricao }}</span>
        <input *ngIf="editando" type="text" [(ngModel)]="provaSelecionada.descricao" />
      </div>
      
      <div>
        <label><strong>Data de Criação: </strong></label>
        <span>{{ provaSelecionada.dataCriacao }}</span>
      </div>
  
      <div class="button-container">
        <button class="btn-salvar" (click)="salvarAlteracoes()">Salvar</button>
        <button class="btn-editar" (click)="editando ? desativarEdicao() : ativarEdicao()">
          {{ editando ? 'Cancelar' : 'Editar' }}
        </button>
        <button class="btn-fechar" (click)="fecharModal()">Fechar</button>
        <button class="btn-excluir" (click)="confirmarExclusao = true">Excluir</button>
      </div>
    </div>
  </div>

  <!-- Modal de Confirmação de Exclusão -->
  <div *ngIf="confirmarExclusao" class="modal" (click)="confirmarExclusao = false">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <h3>Tem certeza que deseja fazer a exclusão?</h3>
      <div class="button-container">
        <button class="btn-confirmar" (click)="efetuarExclusao()">Sim</button>
        <button class="btn-cancelar" (click)="confirmarExclusao = false">Não</button>
      </div>
    </div>
  </div>
</div>
